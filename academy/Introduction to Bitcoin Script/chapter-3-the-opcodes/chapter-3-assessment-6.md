# Chapter 3 assessment 6

Assessment

1. Bob and Alice and Carol create an account where either Alice or Carol can spend funds on their own, but Bob must have a countersignature from either Alice or Carol. Which script achieves this functionality? The solution generated by the wallet when Bob is spending money is: `OP_1 <alice/carol_sig> <bob_sig>`

* [ ] `OP_DEPTH OP_2 OP_EQUAL OP_NOTIF OP_1 <alice_pubkey> <carol_pubkey> OP_2 OP_CHECKMULTISIG OP_ELSE OP_3 <alice_pubkey> <carol_pubkey> <bob_pubkey> OP_3 OP_CHECKMULTISIG OP_ENDIF`
* [x] `OP_DUP <bob_pubkey> OP_CHECKSIG OP_IF OP_DROP OP_ENDIF OP_1 <alice_pubkey> <carol_pubkey> OP_2 OP_CHECKMULTISIG`
* [ ] `OP_DEPTH OP_1 OP_EQUAL OP_DUP <alice_pubkey> OP_CHECKSIG OP_SWAP <carol_pubkey> OP_CHECKSIG OP_BOOLOR OP_ELSE OP_2 <bob_pubkey> <alice_pubkey> <carol_pubkey> OP_3 OP_CHECKMULTISIG OP_ENDIF`
* [ ] `OP_1 <alice_pubkey> <carol_pubkey> <bob_pubkey> OP_3 OP_CHECKMULTISIG`

2. Dan and Evelyn want a wallet signed by a 2of2 multisig that incorporates public key hashing so that their keys don't need to be written into the output when it is created. The script must check that the solution they provide is a valid 2of2 multisig evaluation. Use of both separate and combined hashes to check the pre-defined public keys are valid approaches. The required input solution is:\
   `OP_1 <dan_signature> <evelyn_signature> OP_2 <dan_pk> <evelyn_pk>`\
   Which script does NOT correctly achieve this functionality?&#x20;

* [ ] `OP_OVER OP_HASH160 <dan_pkhash> OP_EQUALVERIFY OP_DUP OP_HASH160 <evelyn_pkh> OP_EQUALVERIFY OP_CHECKMULTISIG`
* [ ] `OP_3DUP OP_CAT OP_CAT OP_HASH160 <combined_hash> OP_EQUALVERIFY OP_2 OP_CHECKMULTISIG`
* [x] `OP_DUP OP_HASH160 <evelyn_pkh> OP_EQUALVERIFY OP_OVER OP_HASH160 <dan_pkh> OP_EQUALVERIFY OP_2 OP_CHECKMULTISIG`
* [ ] `OP_DUP OP_TOALTSTACK OP_HASH160 <evelyn_pkh> OP_EQUALVERIFY OP_DUP OP_TOALTSTACK OP_HASH160 <dan_pkh> OP_DUP OP_2 OP_EQUALVERIFY OP_FROMALTSTACK OP_FROMALTSTACK OP_2 OP_CHECKMULTISIG`

3. From the perspective of the protocol, (e.g. ignoring usage rules/node policies) what is the maximum number of signatures that can be checked using OP\_CHECKMULTISIG?

* [ ] 26
* [x] No limit
* [ ] 65,535
* [ ] 4.29 billion

4. When a 3of5 signature check is performed using OP\_CHECKMULTISIG, how many data items are consumed from the stack?
5.
   * [ ] 8
   * [ ] 9
   * [ ] 10
   * [x] 11



